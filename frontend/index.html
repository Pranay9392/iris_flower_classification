<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iris Flower Classification</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f4f8;
            margin: 0;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 90%;
            max-width: 600px;
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
            text-align: left;
        }
        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
        }
        input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }
        button {
            width: 100%;
            padding: 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #0056b3;
        }
        #result {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
            color: #28a745;
        }
        .info {
            margin-top: 25px;
            text-align: left;
            font-size: 0.95em;
            color: #444;
        }
        .info h2 {
            font-size: 1.2em;
            margin-bottom: 10px;
            color: #007bff;
        }
        .info ul {
            list-style: none;
            padding: 0;
        }
        .info li {
            margin-bottom: 8px;
            background: #f9f9f9;
            padding: 8px;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŒº Iris Flower Classifier</h1>
        <div id="form">
            <div class="form-group">
                <label for="sepal_length">Sepal Length (cm):</label>
                <input type="number" id="sepal_length" step="0.1" required>
            </div>
            <div class="form-group">
                <label for="sepal_width">Sepal Width (cm):</label>
                <input type="number" id="sepal_width" step="0.1" required>
            </div>
            <div class="form-group">
                <label for="petal_length">Petal Length (cm):</label>
                <input type="number" id="petal_length" step="0.1" required>
            </div>
            <div class="form-group">
                <label for="petal_width">Petal Width (cm):</label>
                <input type="number" id="petal_width" step="0.1" required>
            </div>
            <button id="predict-btn">Classify</button>
        </div>
        <div id="result"></div>

        <!-- Info Section -->
        <div class="info">
            <h2>About Iris Flower Classification</h2>
            <p>The Iris dataset is one of the most famous datasets in machine learning. It consists of 150 samples of iris flowers categorized into three species, based on sepal and petal measurements.</p>
            <ul>
                <li><b>Iris Setosa:</b> Small petals and sepals, usually the easiest to identify.</li>
                <li><b>Iris Versicolor:</b> Medium-sized petals and sepals, features overlap with both Setosa and Virginica.</li>
                <li><b>Iris Virginica:</b> Largest petals and sepals, often harder to distinguish from Versicolor.</li>
            </ul>
            <p>Enter the flower measurements above, and the classifier will predict which type of iris flower it belongs to ðŸŒ¸.</p>
        </div>
    </div>

    <script>
        document.getElementById("predict-btn").addEventListener('click', async () => {
            const sepal_length = parseFloat(document.getElementById('sepal_length').value);
            const sepal_width = parseFloat(document.getElementById('sepal_width').value);
            const petal_length = parseFloat(document.getElementById('petal_length').value);
            const petal_width = parseFloat(document.getElementById('petal_width').value);

            if (isNaN(sepal_length) || isNaN(sepal_width) || isNaN(petal_length) || isNaN(petal_width)) {
                alert('Please enter a valid number for all fields.');
                return;
            }

            const data = {
                sepal_length,
                sepal_width,
                petal_length,
                petal_width
            };

            const resultDiv = document.getElementById('result');
            resultDiv.textContent = 'Predicting...';
            resultDiv.style.color = '#333';

            try {
                const response = await fetch('http://127.0.0.1:5000/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                if (!response.ok) {
                    throw new Error(`HTTP error status: ${response.status}`);
                }

                const result = await response.json();
                resultDiv.textContent = `Predicted Class: ${result.prediction.toUpperCase()}`;
                resultDiv.style.color = '#28a745';
            } catch (error) {
                console.error('Error:', error);
                resultDiv.textContent = 'Error: Could not connect to the server.';
                resultDiv.style.color = 'red';
            }
        });
    </script>
</body>
</html>
